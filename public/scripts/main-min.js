!function(){"use strict";const e=$(".burger"),t=$(".burger__elem_top"),o=$(".burger__elem_middle"),r=$(".burger__elem_bottom"),a=$(".header__menu");let n={numbers:[{href:"+79044027952",num:"8 904 402 79 52"}],showAddNumbers:function(e,t){for(let r=0;r<t.length;r++)e.append(`\n    <a class="header__tel header__tel_add" href="tel:${(o=t[r]).href}">\n        <span class="header__tel-num">${o.num}</span>\n    </a>`);var o;e.slideDown()}};const s=$(".questions__list");let i=null;let l={},c=$(".overlay_delivery"),_=$(".popup_delivery"),d=$(".popup__close_delivery");l.sendData=function(e,t){$.post(t,e.serializeArray()).done(function(t){if("formDelivery"==e.attr("id"))return function(e,t){let o=$(window).scrollTop()+$(window).height()/2-e.height()/2;o<60&&(o=60);t.addClass("overlay_active"),e.css("transform",`translateY(${o}px)`),t.css("transform","translateX(0)")}(_,c),void d.on("click",()=>{!function(e){e.css("transform","translateX(-100vw)"),e.removeClass("overlay_active")}(c)});e.addClass("visually-hidden"),e.parent().find(".popup__text_answer").css("display","block"),e.parent().find(".popup__text_main").css("display","none");let o=e.closest(".popup");o.css("transform",`translateY(${$(window).scrollTop()+$(window).height()/2-o.height()/2}px)`)})},l.recoveryForm=function(e,t,o){e.on("click",()=>{t.hasClass("visually-hidden")?(o(),setTimeout(()=>{t.removeClass("visually-hidden"),t.parent().find(".popup__text_answer").css("display","none"),t.parent().find(".popup__text_main").css("display","block")},300)):o()})};$("#callbackForm");let u={addError:function(e){e.on("blur",function(){""==$(this).val().trim()&&$(this).addClass("input_empty")})},removeErr:function(e){e.on("focus",function(){$(this).hasClass("input_empty")&&$(this).removeClass("input_empty")})},btnHandler:function(e,t,o,r){e.on("click",function(a){a.preventDefault();let n=[];""==t.val().trim()&&(t.addClass("input_empty"),n.push(t)),""==o.val().trim()&&(o.addClass("input_empty"),n.push(o)),e.hasClass("delivery__btn")&&1!=$("#user-agree").prop("checked")&&n.push($("#user-agree")),n.length||l.sendData(e.closest("form"),r)})}},p=$('[data-type="callback"]'),m=$(".overlay_callback"),f=$(".popup_calback"),v=$(".popup__close");function h(){m.css("transform","translateX(-100vw)"),m.removeClass("overlay_active")}function w(){m.hasClass("overlay_active")?h():function(){let e=$(window).scrollTop()+$(window).height()/2-f.height()/2;e<60&&(e=60),m.addClass("overlay_active"),f.css("transform",`translateY(${e}px)`),m.css("transform","translateX(0)")}()}let b=$("#callbackForm");const g=$(".burger"),C=$(".burger__elem_top"),y=$(".burger__elem_middle"),x=$(".burger__elem_bottom"),k=$(".header__menu");let T=$(".navigation__list");let E={};const A=$(".tabs"),N=$(".tooltip"),q=$(".price__list"),L=$(".tooltip__close");E.setActiveTabAndShowContent=function(){A.on("click",function(e){let t=$(e.target);var o;"LI"==t.prop("tagName")&&(o=t,$(this).find(".tabs__item_active").removeClass("tabs__item_active"),o.addClass("tabs__item_active"),function(e){let t=e.attr("data-tab");console.log(t),$(".price__list_active").removeClass("price__list_active");let o=$(`[data-group=${t}]`);console.log(o),o.addClass("price__list_active")}(t),F(N))})},E.showAndHideTooltip=function(){$(window).width()>=1200?q.hover(function(e){$(".price__item").hover(function(e){!function(e,t){if(e.hasClass("price__item_head"))return;t.hasClass("tooltip_active")&&(t.removeClass("tooltip_active"),t.find(".tooltip__text_normal").empty());t.find(".tooltip__text_normal").text(D.content),t.css("left",e.position().left-t.width()-50+"px"),t.css("top",e.position().top+"px"),t.addClass("tooltip_active")}($(e.target),N)},function(){F(N)})},function(){F(N)}):E.showTooltipOnMobile()};let D={content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam posuere lacinia ex, vel\n  ullamcorper leo consequat eu. Donec auctor odio sem"};function F(e){for(let t=0;t<10&&e.hasClass("tooltip_active");t++)e.removeClass("tooltip_active"),e.find(".tooltip__text_normal").empty()}E.closeTooltipByClick=function(){L.on("click",function(e){$(this).parent().removeClass("tooltip_active")})},E.showTooltipOnMobile=function(){$(window).width()>=1200||q.on("click",function(e){let t=$(e.target);t.hasClass(".price__item")||(t=t.closest(".price__item")),$(this).find(".tooltip_active")&&F(N),function(e,t){t.hasClass("price__item_head")||(e.find(".tooltip__text_normal").text(D.content),e.css("left",t.position().left+t.width()/2-e.width()/2+"px"),e.css("top",t.position().top+25+"px"),e.addClass("tooltip_active"))}(N,t)})};let H={};H.CustomSelect=function(e){var t=e.elem;t.onclick=function(e){"order-form__select-title"==e.target.className?o?a():(t.classList.add("open"),document.addEventListener("click",r),o=!0):"LI"==e.target.tagName&&(!function(e,o){t.querySelector(".order-form__select-title span").innerHTML=e,$(".order-form__hidden-value").val(e);var r=new CustomEvent("select",{bubbles:!0,detail:{title:e,value:o}});t.dispatchEvent(r)}(e.target.innerHTML,e.target.dataset.value),a())};var o=!1;function r(e){t.contains(e.target)||a()}function a(){t.classList.remove("open"),document.removeEventListener("click",r),o=!1}};let M=$(".price__list"),O=$(".overlay_order"),I=$(".popup_order"),X=$(".popup__close_order"),S=$("#orderForm");function B(){O.css("transform","translateX(-100vw)"),O.removeClass("overlay_active"),$(".order-form__choice").text(""),$(".order-form__price").text("")}H.showModal=function(){M.on("click",e=>{if("BUTTON"==$(e.target).prop("tagName")||"BUTTON"==$(e.target).parent().prop("tagName")){let t=$(e.target).closest(".price__item"),o=t.find(".price__name").text(),r=t.find(".price__price").text();$(".order-form__choice").text(o),$(".order-form__price").text(r),function(){let e=$(window).scrollTop()+$(window).height()/2-I.height()/2;O.addClass("overlay_active"),I.css("transform",`translateY(${e}px)`),O.css("transform","translateX(0)")}()}}),l.recoveryForm(X,S,B)},X.on("click",B);const R=$(".order-form__label_rent"),U=$(".order-form__label_snow");function Y(e,t){if(e.hasClass(t))return e.parent().find("input").attr("checked",!1),void e.removeClass(t);e.parent().find("input").attr("checked",!0),e.addClass(t)}H.setAttrChecked=function(){R.on("click",function(){Y($(this),"order-form__label_rent-active")}),U.on("click",function(){Y($(this),"order-form__label_snow-active")})};let z=$(".order-form__radio-label");H.setCheckedAttrForRadio=function(){let e=null;z.on("click",function(t){e&&(e.removeClass("order-form__radio_active"),e.parent().find("input").attr("checked",!1)),$(t.target).parent().find("input").attr("checked",!0),$(t.target).addClass("order-form__radio_active"),e=$(t.target)})},e.on("click",function(){!function(e,t,o,r,a){if(e.hasClass("burger_closed"))return t.animate(),o.animate({opacity:0},{duration:100}),r.animate(),a.addClass("header__menu_open"),void e.animate().removeClass("burger_closed").addClass("burger_opened");e.hasClass("burger_opened")&&(t.animate(),o.animate({opacity:1}),r.animate(),a.removeClass("header__menu_open"),e.animate().removeClass("burger_opened").addClass("burger_closed"))}($(this),t,o,r,a)});const G=$(".header__contacts-expand");$(".header__tel-btn").on("click",function(e){if(e.preventDefault(),$(this).hasClass("header__tel-btn_active"))return G.slideUp(),void setTimeout(()=>{G.empty(),$(this).removeClass("header__tel-btn_active")},300);$(this).addClass("header__tel-btn_active"),n.showAddNumbers(G,n.numbers)});let P,V={loop:!0,items:1,dots:!0,dotsClass:"header__bullets",dotClass:"header__bullet",navContainerClass:"arrows arrows_header",navClass:["arrow arrow_prev arrow_prev--header","arrow arrow_next arrow_next--header"],responsive:{0:{nav:!1},1200:{nav:!0}}},j=$(".header .owl-carousel");$(".header__slides").on("click",e=>{let t=$(e.target);return t.hasClass("arrow_prev--header")?(window.clearTimeout(P),void(P=setTimeout(function e(){j.trigger("prev.owl.carousel"),P=setTimeout(e,2e3)},2e3))):t.hasClass("arrow_next--header")?(window.clearTimeout(P),P=setTimeout(function e(){j.trigger("next.owl.carousel"),P=setTimeout(e,2e3)},2e3),void(Z="ltr")):void 0}),setTimeout(()=>{$(".header__slide_sec").css("display","flex"),j.owlCarousel(V),P=setTimeout(function e(){j.trigger("next.owl.carousel"),P=setTimeout(e,2e3)},2e3)},1e3),s.on("click",function(e){let t=$(e.target);if(!t.closest(".questions__wrap"))return;let o=(t=t.closest(".questions__wrap")).parent();if(i&&i.attr("data-num")==o.attr("data-num"))return i.find(".questions__describe").slideUp("slow"),t.removeClass("questions__wrap_open"),void(i=null);i&&(i.find(".questions__describe").slideUp("slow"),i.find(".questions__wrap_open").removeClass("questions__wrap_open")),t.addClass("questions__wrap_open"),o.find(".questions__describe").slideDown(""),i=o});let J,K=$(".cert .owl-carousel");function Q(){window.clearTimeout(J),J=setTimeout(function e(){K.trigger("prev.owl.carousel"),J=setTimeout(e,1e3)},1e3)}function W(){window.clearTimeout(J),J=setTimeout(function e(){K.trigger("next.owl.carousel"),J=setTimeout(e,1e3)},1e3)}K.owlCarousel({loop:!0,margin:10,dots:!0,dotsClass:"cert__dots",dotClass:"cert__dot",navContainerClass:"arrows",navClass:["arrow arrow_prev","arrow arrow_next"],responsive:{0:{items:1,nav:!1},768:{items:2},1024:{items:3,nav:!0},1200:{items:4,nav:!0}}}),J=setTimeout(function e(){K.trigger("next.owl.carousel"),J=setTimeout(e,1e3)},1e3);let Z="ltr";$(".cert__list").on("click",e=>{let t=$(e.target);return t.hasClass("arrow_prev")?(Q(),void(Z="rtl")):t.hasClass("arrow_next")?(W(),void(Z="ltr")):void("IMG"==t.prop("tagName")&&clearTimeout(J))}),$('[data-fancybox="gallery"]').fancybox({loop:!0,arrows:!0,infobar:!0,buttons:["close"],btnTpl:{close:'<button data-fancybox-close class="fancybox-button fancybox-button--close cert__close" title="{{CLOSE}}"></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left cert__gallery-arrow cert__gallery-arrow_prev" title="{{PREV}}"></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right cert__gallery-arrow cert__gallery-arrow_next" title="{{NEXT}}"></button>'},afterClose:function(){"ltr"!=Z?Q():W()}}),$(".delivery__agree").on("click",function(){if($(this).hasClass("delivery__agree_active"))return $(this).parent().find("input").attr("checked",!1),void $(this).removeClass("delivery__agree_active");$(this).parent().find("input").attr("checked",!0),$(this).addClass("delivery__agree_active")}),u.btnHandler($(".delivery__btn"),$(".delivery__name"),$(".delivery__phone"),"/post-delivery"),u.addError($(".delivery__name")),u.removeErr($(".delivery__name")),u.addError($(".delivery__phone")),u.removeErr($(".delivery__phone"));let ee=$(".about__gallery-item-clone"),te=[];$(".about__img").each(function(e){te.push($(this).attr("src"))});let oe=$(".about__img")[1].getAttribute("src");var re;re=oe,ee.append(function(e){return`<img src="${e}" alt="" class="about__img-clone" />`}(re));let ae=$(".about .owl-carousel");ae.owlCarousel({loop:!0,margin:100,dots:!1,navContainerClass:"arrows arrows_about",navClass:["arrow arrow_prev arrow_prev--about","arrow arrow_next"],items:1,animateOut:"slideOutLeft",animateIn:"fadeIn",onInitialized:function(e){$(".about__slider-num").text("1 / "+this.items().length)}});let ne=$(".about__img-clone");ae.on("drag.owl.carousel",e=>{let t=$(e.target).find(".owl-item.active").next().next().find("img").attr("src");setTimeout(()=>{ne.attr("src",t)},500)});let se=$(".about__img");ae.on("changed.owl.carousel",function(e){let t=$(".about__slider-num");e.item.index-1==0?t.text(`${e.item.count}/${e.item.count}`):t.text(e.item.index-1+"/"+e.item.count);let o=se[e.item.index+1];o=o.getAttribute("src"),ne.attr("src",o),ne.css("opacity",0),setTimeout(()=>{ne.css("opacity",1)},300)}),p.each(function(e){$(this).on("click",w)}),l.recoveryForm(v,b,h),T.on("click",e=>{let t=$(e.target);"A"==t.prop("tagName")&&e.preventDefault();let o=t.attr("data-scroll"),r=$(`.${o}`).offset().top;$("html, body").animate({scrollTop:r},500),g.hasClass("burger_opened")&&(C.animate(),y.animate({opacity:1}),x.animate(),k.removeClass("header__menu_open"),g.animate().removeClass("burger_opened").addClass("burger_closed"))}),E.setActiveTabAndShowContent(),E.showAndHideTooltip(),E.closeTooltipByClick(),$(window).width()<1200&&E.showTooltipOnMobile(),new H.CustomSelect({elem:document.getElementById("district-select")}),H.showModal(),H.setAttrChecked(),H.setCheckedAttrForRadio(),H.setCheckedAttrForRadio(),u.btnHandler($(".order-form__btn"),$("#user-order-name"),$("#user-order-tel"),"/post-order"),u.addError($("#user-order-name")),u.removeErr($("#user-order-name")),u.addError($("#user-order-tel")),u.removeErr($("#user-order-tel")),u.btnHandler($(".callback-form__btn"),$(".callback-form__input_name"),$("#user-tel"),"/post"),u.addError($(".callback-form__input_name")),u.removeErr($(".callback-form__input_name")),u.addError($("#user-tel")),u.removeErr($("#user-tel"))}();